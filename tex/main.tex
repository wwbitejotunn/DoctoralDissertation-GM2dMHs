\documentclass[doctor]{thesis-uestc}
\usepackage[percent]{overpic}
\usepackage[section]{placeins} 
\usepackage{siunitx}
\usepackage{xparse}
\usepackage{xstring}

%comile flag here, check before publish

\ifdef{\MYCAPFLAG}{}{
    \newcommand{\MYCAPFLAG}{-A-}% -A- or -1- or -1-4-5-
}
\ifdef{\MYDRIFTFLAG}{}{
    \newcommand{\MYDRIFTFLAG}{-N-}% Y or N
}
\ifdef{\MYANONYMOUS}{}{
    \newcommand{\MYANONYMOUS}{-N-}
}

%%%configuration for imported package
%for siunitx
\sisetup{inter-unit-product={}\cdot{}, number-unit-product=\text{ },tight-spacing=true,per-mode = symbol,mode=text}
\DeclareSIUnit\angstrom{\text{Å}}
\DeclareSIUnit\pair{\text{pair}}
\DeclareSIUnit\atom{\text{atom}}
\DeclareSIUnit\percent{\text{\%}}

% cemb to formate the chemical equation in chinese
\def\cemb#1{\texorpdfstring{\;\ce{#1}\mbox{\;}}{#1}}
% cembNHS for hybrid heterostructure label like 石墨烯/h-BN
\def\cembNHS#1{\texorpdfstring{\,\ce{#1}\mbox{\,}}{#1}}

\def\energyVar#1#2{\it E_{\rm #1}^{\rm #2} \it}
\def\tenergyVar#1#2{\it \widetilde{E}_{\rm #1}^{\rm #2} \it}
\def\muVar#1#2{\it \mu_{\rm #1}^{\rm #2} \it}
\def\tmuVar#1#2{\it \widetilde{\mu}_{\rm #1}^{\rm #2} \it}
\def\sigmaVar#1#2{\it \sigma_{\rm #1}^{\rm #2} \it}
\def\tsigmaVar#1#2{\it \widetilde{\sigma}_{\rm #1}^{\rm #2} \it}
\def\csigmaVar#1#2{\it \widehat{\sigma}_{\rm #1}^{\rm #2} \it}
\def\kbconst{\it k_{\rm B} \it}


\IfSubStr{\MYDRIFTFLAG}{Y}{
% disable figure compile for speed up compile in drift mode
\usepackage[%
allfiguresdraft,%
]{draftfigure}
}{

}

\title{二维材料及其异质结的生长理论研究}{Growth Mechanism of Two-dimensional Materials and Heterostructures}

\IfSubStr{\MYANONYMOUS}{Y}{
    \author{XXX}{X XX}
    \advisor{XXX\chinesespace 教授}{Prof. X XX}
    \studentnumber{XXXXXXXXXXXX}
}{
    \author{汪博筠}{Wang Bojun}
    \advisor{牛晓滨\chinesespace 教授}{Prof. Niu Xiaobin}
    \studentnumber{201711030138}
}
\school{材料与能源学院}{School of Materials and Energy}
\major{材料科学与工程}{Materials Science and Engineering}
\classficationnumber{O481.1}
\confidentiallevel{公开}
\udfnumber{538.9}
\begin{document}
%\the\textwidth 
\IfSubStr{\MYCAPFLAG}{-A-}{
    \makecover
    \originalitydeclaration % ! 独创性声明，最终需要替换为签字扫描版
    %\signatureofdeclaration{signature.pdf} 包含签字的扫描版独创性声明
    \input{misc/chineseAbstract}
    \input{misc/englishAbstract}
    \tableofcontents
    \input{chapter/chapter1}
    \input{chapter/chapter2}
    \input{chapter/chapter3}
    \input{chapter/chapter4}
    \input{chapter/chapter5}
    \input{chapter/chapter6}
    \input{misc/acknowledgement}
    \thesisbibliography[large]{reference}
    \IfSubStr{\MYANONYMOUS}{Y}{
        \thesisaccomplish{anonymousPublications}
    }{
        \thesisaccomplish{publications}
    }
}{
    \makecover
    \originalitydeclaration % ! 独创性声明，最终需要替换为签字扫描版
    %\signatureofdeclaration{signature.pdf} 包含签字的扫描版独创性声明
    \input{misc/chineseAbstract}
    \input{misc/englishAbstract}
    \newcommand{\MYREFFLAG}{N}
    \IfSubStr{\MYCAPFLAG}{-1-}{
        \input{chapter/chapter1}
        \renewcommand{\MYREFFLAG}{Y}
        }{}
    \IfSubStr{\MYCAPFLAG}{-2-}{
        \input{chapter/chapter2}
        \renewcommand{\MYREFFLAG}{Y}
        }{}
    \IfSubStr{\MYCAPFLAG}{-3-}{
        \input{chapter/chapter3}
        \renewcommand{\MYREFFLAG}{Y}
        }{}
    \IfSubStr{\MYCAPFLAG}{-4-}{
        \input{chapter/chapter4}
        \renewcommand{\MYREFFLAG}{Y}
        }{}
    \IfSubStr{\MYCAPFLAG}{-5-}{
        \input{chapter/chapter5}
        \renewcommand{\MYREFFLAG}{Y}
        }{}
    \IfSubStr{\MYCAPFLAG}{-6-}{
        \input{chapter/chapter6}
        }{}
    \IfSubStr{\MYCAPFLAG}{-ack-}{
        \input{misc/acknowledgement}
        }{}
    \IfSubStr{\MYREFFLAG}{Y}{
        \thesisbibliography[large]{reference}}{
    }
}
\end{document}
